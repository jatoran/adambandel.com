{"version":3,"sources":["ui.js"],"names":["_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","_catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","F","s","n","e","_e","f","normalCompletion","didErr","step","_e2","minLen","_arrayLikeToArray","toString","from","test","arr","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_toPropertyKey","_createClass","protoProps","staticProps","_toPrimitive","String","input","hint","prim","toPrimitive","res","Number","GameUI","eventManager","gameManager","gameStateManager","_this","window","gameUI","statsRow","document","getElementById","statsRow2","powerCol1","powerCol2","spiritCol1","spiritCol2","tournamentCol1","tournamentCol2","skillsCol1","skillsCol2","essenceCol1","achievementsCol1","numberSettings","multSettings","multiplierString","updateNumberNotationHandler","updateNumberNotation","updateMultiplierHandler","updateMultiplierIndex","addEventListener","multiplierValues","multiplierIndex","bind","currentTab","currentButton","isExplorationTabPopulated","populateSaveLoadButtons","populateUI","updateMultiplier","createTabEventListeners","_this2","tabButtons","getElementsByTagName","_iterator","_step","_loop","button","tabId","id","changeTab","tab","currentTabElement","style","display","newTabElement","classList","remove","add","_populateUI","_callee","_callee$","_context","updateUI","populateStatsDisplay","populatePowerTab","populateSpiritTab","populateSkillsTab","populateEssenceTab","populateAchievementsTab","populateExplorationTab","clear","clearListeners","clearDynamicElements","clearPowerTab","clearSpiritTab","clearTournamentTab","clearSkillTab","saveButton","loadButton","resetButton","rebirth1Button","rebirth2Button","rebirth3Button","removeEventListener","saveButtonHandler","loadButtonHandler","resetButtonHandler","rebirth1ButtonHandler","rebirth2ButtonHandler","rebirth3ButtonHandler","removeAllChildren","skillGrid","querySelector","parent","firstChild","removeChild","isAffordable","feature","currentResource","queryPlayerResource","costType","featureType","gte","costBase","gt","costNext","numberNotation","newValue","textContent","onMultiplierChange","_populateStatsDisplay","_callee2","powerStat","powerIncomeStat","spiritStat","spiritIncomeStat","essenceStat","essenceMultiplier","skillpointStat","lifetimePower","powerLevelStat","lifetimeSpirit","spiritLevelStat","lifetimeEssence","crystal","placeHolder1","placeHolder2","rebirth1PseudoObject","_callee2$","_context2","createElement","className","appendChild","concat","formatNumber","gameContent","player","power","powerIncome","spirit","spiritIncome","essence","skillpoint","lifetimePowerEarned","powerLevel","lifetimeSpiritEarned","spiritLevel","lifetimeEssenceEarned","findObjectById","level","_this3","disabled","saveGameState","innerHTML","setTimeout","loadGameState","_this4","targetParent","tabButtonsContainer","children","index","changeExplorationSubTab","tabContent","col1","col2","populateExplorationSubTab","populateGearSubTab","populateWorkersSubTab","populateCrystalUpgradesSubTab","_this5","targetCol1","targetCol2","worlds","world","worldID","worldName","setAttribute","regions","region","regionId","regionCell","regionName","contains","workers","worker","workerID","workerCell","workerName","tournament","tournamentName","fighters","fighter","fighterId","fighterCell","fighterName","handleFight","prodNext","prodType","active","opacity","isDefeated","populateTournamentSubTab","targetTab","tabContents","content","includes","_this6","realmButtonsContainer","powerRealms","realm","realmId","realmButton","realmContent","changeRealm","populatePowerRealm","_this7","trainings","training","trainingId","trainingCell","trainingName","description","buttonContainer","buyFeature","currentValueElement","prodCurrent","prodMult","prodGrowthRate","costMult","costGrowthRate","nextLevelIncrement","plus","minus","maxLevel","upgrades","upgrade","upgradeId","upgradeCell","upgradeName","upgradeDescription","eq","nextUpgradeCost","neq","populateSpiritRealm","_this8","generatorChains","generators","generatorId","generatorCell","generatorName","manualLevel","autoLevel","realmType","realmButtons","realmContents","split","_this9","spiritRealms","_this10","achievements","achievementsGrid","achievement","achievementID","achievementCell","achievementTitle","claimAchievement","achievementDescription","isClaimed","isClaimable","_this11","skills","skillTree","skill","skillId","skillNode","levelText","connections","node","direction","line","lt","left","x","top","y","_this12","essenceUpgrades","targetCol","num","toStringWithDecimalPlaces","toExponential","toJSON","toPrecision","toNumber","toFixed","magnitudeWithDecimalPlaces","mantissaWithDecimalPlaces","claim","dispatchEvent"],"mappings":"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","file":"ui.69528adb.js","sourceRoot":"..","sourcesContent":["class GameUI {\r\n    constructor(eventManager, gameManager, gameStateManager) {\r\n        this.eventManager = eventManager;\r\n        this.gameManager = gameManager;\r\n        this.gameStateManager = gameStateManager;\r\n        window.gameUI = this;\r\n        this.statsRow = document.getElementById(\"row-stats\");\r\n        this.statsRow2 = document.getElementById(\"row-stats2\");\r\n\r\n        this.powerCol1 = document.getElementById(\"power-col1\");\r\n        this.powerCol2 = document.getElementById(\"power-col2\");\r\n\r\n        this.spiritCol1 = document.getElementById(\"spirit-col1\");\r\n        this.spiritCol2 = document.getElementById(\"spirit-col2\");\r\n\r\n        this.tournamentCol1 = document.getElementById(\"tournament-col1\");\r\n        this.tournamentCol2 = document.getElementById(\"tournament-col2\");\r\n\r\n        this.skillsCol1 = document.getElementById(\"skills-col1\");\r\n        this.skillsCol2 = document.getElementById(\"skills-col2\");\r\n\r\n        this.essenceCol1 = document.getElementById(\"essence-col1\");\r\n\r\n        this.achievementsCol1 = document.getElementById(\"achievements-col1\");\r\n\r\n        this.numberSettings = document.getElementById(\"numberSettings\");\r\n        this.multSettings = document.getElementById(\"multSettings\");\r\n\r\n        this.multiplierString = multSettings.value;\r\n        this.gameManager.multiplierString = this.multSettings.value;\r\n\r\n        this.updateNumberNotationHandler = () => this.updateNumberNotation();\r\n        this.updateMultiplierHandler = () => this.updateMultiplierIndex();\r\n\r\n        this.numberSettings.addEventListener('change', this.updateNumberNotationHandler);\r\n\r\n        this.multiplierValues = [\"1\", \"5\", \"10\", \"100\", \"nextMilestone\", \"max\"];\r\n        this.multiplierIndex = 0;\r\n        this.multSettings = document.getElementById(\"multSettings\");\r\n        this.multSettings.addEventListener('click', this.updateMultiplierHandler.bind(this));\r\n\r\n        this.currentTab = 'power'; //set default tab\r\n        this.currentButton = document.getElementById(this.currentTab + 'Tab'); // Set default button\r\n\r\n\r\n        this.isExplorationTabPopulated = false;\r\n        this.populateSaveLoadButtons();\r\n        this.populateUI();\r\n        // Initialize the multiplier\r\n        this.updateMultiplier();\r\n\r\n\r\n        this.createTabEventListeners();\r\n\r\n\r\n    }\r\n\r\n    createTabEventListeners() {\r\n        const tabButtons = document.getElementById('tab-buttons').getElementsByTagName('button');\r\n\r\n        // Loop through each button and add a click event listener\r\n        for (let button of tabButtons) {\r\n            button.addEventListener('click', () => {\r\n                // The button's id should correspond to the tab's id\r\n                const tabId = button.id.slice(0, -3);\r\n                this.changeTab(tabId);\r\n            });\r\n        }\r\n    }\r\n\r\n    changeTab(tab) {\r\n        // Hide the current tab\r\n        let currentTabElement = document.getElementById(this.currentTab);\r\n        if (currentTabElement) {\r\n            currentTabElement.style.display = \"none\";\r\n            }\r\n\r\n        // Show the new tab\r\n        if (tab) {\r\n            this.currentTab = tab;\r\n        }\r\n        const newTabElement = document.getElementById(tab);\r\n        if (newTabElement) {\r\n            newTabElement.style.display = \"block\";\r\n        }\r\n\r\n        if (this.currentButton) {\r\n            this.currentButton.classList.remove('active-tab');\r\n        }\r\n\r\n        this.currentButton = document.getElementById(this.currentTab + 'Tab');\r\n        if (this.currentButton) {\r\n            this.currentButton.classList.add('active-tab');\r\n        }\r\n    }\r\n\r\n    async populateUI() {\r\n        this.updateUI();\r\n    }\r\n\r\n    updateUI() {\r\n        this.populateStatsDisplay();\r\n        this.populatePowerTab();\r\n        this.populateSpiritTab();\r\n        this.populateSkillsTab();\r\n        this.populateEssenceTab();\r\n        this.populateAchievementsTab();\r\n        this.populateExplorationTab();\r\n    }\r\n\r\n    clear() {\r\n        this.clearListeners();\r\n        this.clearDynamicElements();\r\n    }\r\n\r\n    clearDynamicElements() {\r\n        this.clearPowerTab();\r\n        this.clearSpiritTab();\r\n        this.clearTournamentTab();\r\n        this.clearSkillTab();\r\n    }\r\n\r\n    clearListeners() {\r\n        const saveButton = document.getElementById('save');\r\n        const loadButton = document.getElementById('load');\r\n        const resetButton = document.getElementById('reset');\r\n        const rebirth1Button = document.getElementById('rebirth1');\r\n        const rebirth2Button = document.getElementById('rebirth2');\r\n        const rebirth3Button = document.getElementById('rebirth3');\r\n        saveButton.removeEventListener('click', this.saveButtonHandler);\r\n        loadButton.removeEventListener('click', this.loadButtonHandler);\r\n        resetButton.removeEventListener('click', this.resetButtonHandler);\r\n        rebirth1Button.removeEventListener('click', this.rebirth1ButtonHandler);\r\n        rebirth2Button.removeEventListener('click', this.rebirth2ButtonHandler);\r\n        rebirth3Button.removeEventListener('click', this.rebirth3ButtonHandler);\r\n\r\n        this.numberSettings.removeEventListener('change', this.updateNumberNotationHandler);\r\n        this.multSettings.removeEventListener('click', this.updateMultiplierHandler);\r\n    }\r\n\r\n    clearPowerTab() {\r\n        this.removeAllChildren(this.powerCol1);\r\n    }\r\n\r\n    clearSpiritTab() {\r\n        this.removeAllChildren(this.spiritCol1);\r\n    }\r\n\r\n    clearTournamentTab() {\r\n        this.removeAllChildren(this.tournamentCol1);\r\n    }\r\n\r\n    clearSkillTab() {\r\n        let skillGrid = this.skillsCol1.querySelector('.skill-grid');\r\n        if (skillGrid) {\r\n            skillGrid.remove();\r\n        }\r\n    }\r\n\r\n    removeAllChildren(parent) {\r\n        while (parent.firstChild) {\r\n            parent.removeChild(parent.firstChild);\r\n        }\r\n    }\r\n\r\n    isAffordable(feature) {\r\n        let currentResource = this.gameManager.queryPlayerResource(feature.costType);\r\n\r\n        if (feature.featureType === \"fighter\") {\r\n            if (currentResource.gte(feature.costBase)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        if (currentResource.gt(feature.costNext)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    updateNumberNotation() {\r\n        this.numberNotation = this.numberSettings.value;\r\n        this.updateUI();\r\n    }\r\n\r\n    updateMultiplierIndex() {\r\n        this.multiplierIndex = (this.multiplierIndex + 1) % this.multiplierValues.length;\r\n        this.updateMultiplier();\r\n    }\r\n\r\n    updateMultiplier() {\r\n        let newValue = this.multiplierValues[this.multiplierIndex];\r\n        this.multSettings.textContent = newValue === \"1\" ? \"x1\" : newValue;\r\n        this.multiplierString = newValue;\r\n        this.gameManager.onMultiplierChange(newValue);\r\n    }\r\n\r\n    async populateStatsDisplay() {\r\n\r\n        // Create and add the elements only once\r\n        if (!this.statsRow.querySelector('.power-stat')) {\r\n            //row 1\r\n            const powerStat = document.createElement('div');\r\n            powerStat.className = 'power-stat';\r\n            this.statsRow.appendChild(powerStat);\r\n\r\n            const powerIncomeStat = document.createElement('div');\r\n            powerIncomeStat.className = 'power-income-stat';\r\n            this.statsRow.appendChild(powerIncomeStat);\r\n\r\n            const spiritStat = document.createElement('div');\r\n            spiritStat.className = 'spirit-stat';\r\n            this.statsRow.appendChild(spiritStat);\r\n\r\n            const spiritIncomeStat = document.createElement('div');\r\n            spiritIncomeStat.className = 'spirit-income-stat';\r\n            this.statsRow.appendChild(spiritIncomeStat);\r\n\r\n            const essenceStat = document.createElement('div');\r\n            essenceStat.className = 'essence-stat';\r\n            this.statsRow.appendChild(essenceStat);\r\n\r\n            const essenceMultiplier = document.createElement('div');\r\n            essenceMultiplier.className = 'essence-multiplier';\r\n            this.statsRow.appendChild(essenceMultiplier);\r\n\r\n            const skillpointStat = document.createElement('div');\r\n            skillpointStat.className = 'skillpoint-stat';\r\n            this.statsRow.appendChild(skillpointStat);\r\n\r\n            //row 2\r\n            const lifetimePower = document.createElement('div');\r\n            lifetimePower.className = 'lifetime-power';\r\n            this.statsRow2.appendChild(lifetimePower);\r\n\r\n            const powerLevelStat = document.createElement('div');\r\n            powerLevelStat.className = 'power-level-stat';\r\n            this.statsRow2.appendChild(powerLevelStat);\r\n\r\n            const lifetimeSpirit = document.createElement('div');\r\n            lifetimeSpirit.className = 'lifetime-spirit';\r\n            this.statsRow2.appendChild(lifetimeSpirit);\r\n\r\n            const spiritLevelStat = document.createElement('div');\r\n            spiritLevelStat.className = 'spirit-level-stat';\r\n            this.statsRow2.appendChild(spiritLevelStat);\r\n\r\n            const lifetimeEssence = document.createElement('div');\r\n            lifetimeEssence.className = 'lifetime-essence';\r\n            this.statsRow2.appendChild(lifetimeEssence);\r\n\r\n            const crystal = document.createElement('div');\r\n            crystal.className = 'crystal';\r\n            this.statsRow2.appendChild(crystal);\r\n\r\n            const placeHolder1 = document.createElement('div');\r\n            placeHolder1.className = '';\r\n            this.statsRow2.appendChild(placeHolder1);\r\n\r\n            const placeHolder2 = document.createElement('div');\r\n            placeHolder2.className = '';\r\n            this.statsRow2.appendChild(placeHolder2);\r\n\r\n        }\r\n\r\n        // Update the text of the elements without replacing their content\r\n\r\n        //row 1\r\n        this.statsRow.querySelector('.power-stat').textContent = `Power\\n${this.formatNumber(this.gameManager.gameContent.player.power)}`;\r\n        this.statsRow.querySelector('.power-income-stat').textContent = `powerIncome\\n ${this.formatNumber(this.gameManager.gameContent.player.powerIncome)}`;\r\n        this.statsRow.querySelector('.spirit-stat').textContent = `Spirit\\n${this.formatNumber(this.gameManager.gameContent.player.spirit)}`;\r\n        this.statsRow.querySelector('.spirit-income-stat').textContent = `spiritIncome\\n${this.formatNumber(this.gameManager.gameContent.player.spiritIncome)}`;\r\n        this.statsRow.querySelector('.essence-stat').textContent = `Essence\\n${this.formatNumber(this.gameManager.gameContent.player.essence)}`;\r\n        this.statsRow.querySelector('.skillpoint-stat').textContent = `Skillpoint\\n${this.formatNumber(this.gameManager.gameContent.player.skillpoint)}`;\r\n\r\n        //row 2\r\n        this.statsRow2.querySelector('.lifetime-power').textContent = `LifetimePower\\n${this.formatNumber(this.gameManager.gameContent.player.lifetimePowerEarned)}`;\r\n        this.statsRow2.querySelector('.power-level-stat').textContent = `PowerLevel\\n${this.formatNumber(this.gameManager.gameContent.player.powerLevel)}`;\r\n        this.statsRow2.querySelector('.lifetime-spirit').textContent = `LifetimeSpirit\\n${this.formatNumber(this.gameManager.gameContent.player.lifetimeSpiritEarned)}`;\r\n        this.statsRow2.querySelector('.spirit-level-stat').textContent = `SpiritLevel\\n${this.formatNumber(this.gameManager.gameContent.player.spiritLevel)}`;\r\n        this.statsRow2.querySelector('.lifetime-essence').textContent = `LifetimeEssence\\n${this.formatNumber(this.gameManager.gameContent.player.lifetimeEssenceEarned)}`;\r\n        this.statsRow2.querySelector('.crystal').textContent = `Crystal\\n${this.formatNumber(this.gameManager.gameContent.player.crystal)}`;\r\n\r\n        let rebirth1PseudoObject = this.gameManager.findObjectById(60000);\r\n        this.statsRow.querySelector('.essence-multiplier').textContent = `EssenceMultiplier\\n${this.formatNumber(rebirth1PseudoObject.level)}`;\r\n    }\r\n    \r\n    populateSaveLoadButtons() {\r\n        // Get the save and load divs\r\n        const saveButton = document.getElementById('save');\r\n        const loadButton = document.getElementById('load');\r\n        const resetButton = document.getElementById('reset');\r\n        const rebirth1Button = document.getElementById('rebirth1');\r\n        const rebirth2Button = document.getElementById('rebirth2');\r\n        const rebirth3Button = document.getElementById('rebirth3');\r\n        saveButton.disabled = true;\r\n        loadButton.disabled = true;\r\n        resetButton.disabled = true;\r\n        rebirth1Button.disabled = true;\r\n        rebirth2Button.disabled = true;\r\n        rebirth3Button.disabled = true;\r\n\r\n        this.saveButtonHandler = () => {\r\n            this.gameStateManager.saveGameState(0);\r\n            saveButton.innerHTML = \"Game Saved!\";\r\n            saveButton.classList.add('fade');\r\n            setTimeout(function () {\r\n                saveButton.classList.remove('fade');\r\n                saveButton.innerHTML = \"Save\";\r\n            }, 1000); // Set timeout to 2 seconds (2000 milliseconds)\r\n        };\r\n\r\n        this.loadButtonHandler = () => {\r\n            this.gameStateManager.loadGameState(0);\r\n            loadButton.innerHTML = \"Game Loaded!\";\r\n            loadButton.classList.add('fade');\r\n            setTimeout(function () {\r\n                loadButton.classList.remove('fade');\r\n                loadButton.innerHTML = \"Load\";\r\n            }, 1000); // Set timeout to 2 seconds (2000 milliseconds)\r\n        };\r\n\r\n        this.resetButtonHandler = () => {\r\n            this.gameStateManager.loadGameState(-1);\r\n            resetButton.innerHTML = \"Game Reset!\";\r\n            resetButton.classList.add('fade');\r\n            setTimeout(function () {\r\n                resetButton.classList.remove('fade');\r\n                resetButton.innerHTML = \"Reset\";\r\n            }, 1000); // Set timeout to 2 seconds (2000 milliseconds)\r\n        };\r\n\r\n        this.rebirth1ButtonHandler = () => {\r\n            this.gameStateManager.saveGameState(1);\r\n            rebirth1Button.innerHTML = \"Rebirth1!\";\r\n            rebirth1Button.classList.add('fade');\r\n            setTimeout(function () {\r\n                rebirth1Button.classList.remove('fade');\r\n                rebirth1Button.innerHTML = \"Rebirth 1\";\r\n            }, 1000); // Set timeout to 2 seconds (2000 milliseconds)\r\n        };\r\n\r\n        this.rebirth2ButtonHandler = () => {\r\n            this.gameStateManager.saveGameState(2);\r\n            rebirth2Button.innerHTML = \"Rebirth2!\";\r\n            rebirth2Button.classList.add('fade');\r\n            setTimeout(function () {\r\n                rebirth2Button.classList.remove('fade');\r\n                rebirth2Button.innerHTML = \"Rebirth 2\";\r\n            }, 1000); // Set timeout to 2 seconds (2000 milliseconds)\r\n        };\r\n\r\n        this.rebirth3ButtonHandler = () => {\r\n            this.gameStateManager.saveGameState(3);\r\n            rebirth3Button.innerHTML = \"Rebirth3!\";\r\n            rebirth3Button.classList.add('fade');\r\n            setTimeout(function () {\r\n                rebirth3Button.classList.remove('fade');\r\n                rebirth3Button.innerHTML = \"Rebirth 3\";\r\n            }, 1000); // Set timeout to 2 seconds (2000 milliseconds)\r\n        };\r\n\r\n        saveButton.addEventListener('click', this.saveButtonHandler);\r\n        loadButton.addEventListener('click', this.loadButtonHandler);\r\n        resetButton.addEventListener('click', this.resetButtonHandler);\r\n        rebirth1Button.addEventListener('click', this.rebirth1ButtonHandler);\r\n        rebirth2Button.addEventListener('click', this.rebirth2ButtonHandler);\r\n        rebirth3Button.addEventListener('click', this.rebirth3ButtonHandler);\r\n    }\r\n\r\n    populateExplorationTab() {\r\n        if (!this.isExplorationTabPopulated) {\r\n            let targetParent = document.getElementById('exploration');\r\n            const tabButtonsContainer = document.getElementById(`exploration-tab-buttons`);\r\n            let tabButtons = Array.from(tabButtonsContainer.children);\r\n\r\n            tabButtons.forEach((button, index) => {\r\n                button.addEventListener('click', () => this.changeExplorationSubTab(button.id));\r\n\r\n                let tabContent = document.getElementById(`tab-content-${button.id}`);\r\n                let col1, col2;\r\n\r\n                if (!tabContent) {\r\n                    tabContent = document.createElement('div');\r\n                    tabContent.id = `tab-content-${button.id}`;\r\n                    tabContent.className = `tab-content`;\r\n                    tabContent.style.display = (index === 0 ? 'flex' : 'none'); // Only display the first tab by default\r\n\r\n                    col1 = document.createElement('div');\r\n                    col1.id = `tab-col1-${button.id}`;\r\n                    col1.className = 'testing-content-tab-col';\r\n\r\n                    col2 = document.createElement('div');\r\n                    col2.id = `tab-col2-${button.id}`;\r\n                    col2.className = 'testing-content-tab-col';\r\n\r\n                    tabContent.appendChild(col1);\r\n                    tabContent.appendChild(col2);\r\n\r\n                    targetParent.appendChild(tabContent);\r\n                } else {\r\n                    col1 = document.getElementById(`tab-col1-${button.id}`);\r\n                    col2 = document.getElementById(`tab-col2-${button.id}`);\r\n                }\r\n            });\r\n\r\n            // If it's the first tab, add 'active-tab' class\r\n            if (tabButtons.length > 0) {\r\n                tabButtons[0].classList.add('active-tab');\r\n            }\r\n            this.isExplorationTabPopulated = true;\r\n        }\r\n\r\n        this.populateExplorationSubTab();\r\n        //this.populateTournamentSubTab();\r\n        this.populateGearSubTab();\r\n        this.populateWorkersSubTab();\r\n        this.populateCrystalUpgradesSubTab();\r\n    }\r\n\r\n    populateExplorationSubTab() {\r\n        let targetCol1 = document.getElementById(`tab-col1-explorationSubTab`);\r\n        let targetCol2 = document.getElementById(`tab-col2-explorationSubTab`);\r\n\r\n        const worlds = this.gameManager.gameContent.worlds;\r\n\r\n        worlds.forEach(world => {\r\n            const worldID = `world-${world.id}`;\r\n            let worldName = targetCol1.querySelector(`#${worldID}`);\r\n\r\n            if (!worldName) {\r\n                worldName = document.createElement('div');\r\n                worldName.id = worldID;\r\n                worldName.setAttribute('style', 'font-size:20px; font-weight: bold; margin-top:20px; margin-bottom:10px; border-bottom: 2px dashed white;');\r\n                targetCol1.appendChild(worldName);\r\n            }\r\n\r\n            worldName.textContent = `${world.name}`;\r\n\r\n            world.regions.forEach(region => {\r\n                const regionId = `region-${region.id}`;\r\n                let regionCell = targetCol1.querySelector(`#${regionId}`);\r\n\r\n                if (!regionCell) {\r\n                    regionCell = document.createElement('div');\r\n                    regionCell.id = regionId;\r\n                    regionCell.classList.add('region-cell');\r\n                    targetCol1.appendChild(regionCell);\r\n                }\r\n\r\n                const regionName = regionCell.querySelector('.region-name') || document.createElement('div');\r\n                if (!regionCell.contains(regionName)) {\r\n                    regionName.className = 'region-name';\r\n                    regionName.setAttribute('style', 'font-size:18px; font-weight: bold; margin-top:10px; margin-bottom:8px; border-bottom: 1px dashed white;');\r\n                    regionCell.appendChild(regionName);\r\n                }\r\n                regionName.textContent = `${region.name}`;\r\n\r\n               \r\n\r\n                if (region.workers) {\r\n                    region.workers.forEach(worker => {\r\n                        const workerID = `worker-${worker.id}`;\r\n                        let workerCell = targetCol2.querySelector(`#${workerID}`);\r\n                        if (!workerCell) {\r\n                            workerCell = document.createElement('div');\r\n                            workerCell.id = workerID;\r\n                            workerCell.classList.add('worker-cell');\r\n                            targetCol2.appendChild(workerCell);\r\n                        }\r\n\r\n                        const workerName = workerCell.querySelector('.worker-name') || document.createElement('div');\r\n                        if (!workerCell.contains(workerName)) {\r\n                            workerName.className = 'worker-name';\r\n                            workerCell.appendChild(workerName);\r\n                        }\r\n                        workerName.textContent = `${worker.name}`;\r\n                    });\r\n                }\r\n                if (region.tournament) {\r\n                    const tournamentName = regionCell.querySelector('.tournament-name') || document.createElement('div');\r\n                    if (!regionCell.contains(tournamentName)) {\r\n                        tournamentName.className = 'tournament-name';\r\n                        tournamentName.setAttribute('style', 'font-size:15px; margin-top:10px; margin-bottom:8px; border-bottom: 1px dashed white;');\r\n                        regionCell.appendChild(tournamentName);\r\n                    }\r\n                    tournamentName.textContent = `${region.tournament.name}`;\r\n                    region.tournament.fighters.forEach(fighter => {\r\n                        const fighterId = `fighter-${fighter.id}`;\r\n                        let fighterCell = targetCol1.querySelector(`#${fighterId}`);\r\n                        if (!fighterCell) {\r\n                            fighterCell = document.createElement('div');\r\n                            fighterCell.id = fighterId;\r\n                            fighterCell.classList.add('fighter-cell');\r\n                            targetCol1.appendChild(fighterCell);\r\n                        }\r\n\r\n                        const fighterName = fighterCell.querySelector('.fighter-name') || document.createElement('div');\r\n                        if (!fighterCell.contains(fighterName)) {\r\n                            fighterName.className = 'fighter-name';\r\n                            fighterCell.appendChild(fighterName);\r\n                        }\r\n                        fighterName.textContent = `${fighter.name}`;\r\n\r\n                        const button = document.querySelector(`#fight-button-${fighter.id}`) || document.createElement('button');\r\n                        if (!fighterCell.contains(button)) {\r\n                            button.setAttribute('style', 'white-space:pre;');\r\n                            button.id = `fight-button-${fighter.id}`;\r\n                            button.addEventListener('click', () => {\r\n                                region.tournament.handleFight(fighter.id);\r\n                            });\r\n                            fighterCell.appendChild(button);\r\n                        }\r\n\r\n                        button.textContent = `Fight \\r\\n`;\r\n                        button.textContent += `${fighter.costType} ${this.formatNumber(fighter.costNext)}\\r\\n`;\r\n                        button.textContent += `+ ${this.formatNumber(fighter.prodNext)} ${fighter.prodType}`;\r\n\r\n                        if (!fighter.active || !this.isAffordable(fighter)) {\r\n                            button.disabled = true;\r\n                            button.style.opacity = 0.7;\r\n                        } else if (fighter.isDefeated) {\r\n                            button.disabled = true;\r\n                            button.style.opacity = 1;\r\n                            button.setAttribute('style', 'white-space:pre; background-color:green; color:white');\r\n                            button.textContent = \"Defeated\";\r\n                        } else {\r\n                            button.disabled = false;\r\n                            button.style.opacity = 1;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    populateTournamentSubTab() {\r\n        let targetCol1 = document.getElementById(`tab-col1-tournamentSubTab`);\r\n        \r\n    }\r\n\r\n    populateGearSubTab() {\r\n        let targetCol1 = document.getElementById(`tab-col1-gearSubTab`);\r\n        //let targetCol2 = document.getElementById(`tab-col2-gearSubTab`);\r\n    }\r\n\r\n    populateWorkersSubTab() {\r\n        let targetCol1 = document.getElementById(`tab-col1-workersSubTab`);\r\n        //let targetCol2 = document.getElementById(`tab-col2-workersSubTab`);\r\n    }\r\n\r\n    populateCrystalUpgradesSubTab() {\r\n        let targetCol1 = document.getElementById(`tab-col1-crystalUpgradesSubTab`);\r\n        //let targetCol2 = document.getElementById(`tab-col2-crystalUpgradesSubTab`);\r\n    }\r\n\r\n    changeExplorationSubTab(tabId) {\r\n        // Get the parent container\r\n        const tabButtonsContainer = document.getElementById(`exploration-tab-buttons`);\r\n        let tabButtons = Array.from(tabButtonsContainer.children);\r\n\r\n        // Remove 'active-tab' class from all tab buttons\r\n        tabButtons.forEach(button => {\r\n            button.classList.remove('active-tab');\r\n        });\r\n\r\n        // Add 'active-tab' class to the clicked button\r\n        let targetTab = document.getElementById(tabId);\r\n        targetTab.classList.add('active-tab');\r\n\r\n        // Get the parent container for the tabs\r\n        const targetParent = document.getElementById('exploration');\r\n\r\n        // Hide all tab contents\r\n        let tabContents = Array.from(targetParent.children);\r\n        tabContents.forEach(content => {\r\n            if (content.id.includes('tab-content')) {\r\n                content.style.display = 'none';\r\n            }\r\n        });\r\n\r\n        // Show the content of the clicked tab\r\n        document.getElementById(`tab-content-${tabId}`).style.display = 'flex';\r\n    }\r\n\r\n    populatePowerTab() {\r\n        let targetParent = document.getElementById('power');\r\n        let realmButtonsContainer = document.getElementById('power-realm-buttons');\r\n\r\n        this.gameManager.gameContent.powerRealms.forEach((realm, index) => {\r\n            const realmId = `realm-${realm.name}`;\r\n            let realmButton = document.getElementById(realmId);\r\n            let realmContent = document.getElementById(`realm-content-${realm.name}`);\r\n            let col1, col2;\r\n\r\n            if (!realmButton) {\r\n                realmButton = document.createElement('button');\r\n                realmButton.id = realmId;\r\n                realmButton.textContent = realm.name;\r\n                realmButton.className = \"realm-button\";\r\n                realmButton.addEventListener('click', () => this.changeRealm(realmId,\"power\"));\r\n\r\n                // If it's the first realm, add 'active-tab' class\r\n                if (index === 0) {\r\n                    realmButton.classList.add('active-tab');\r\n                }\r\n\r\n                realmButtonsContainer.appendChild(realmButton);\r\n            }\r\n\r\n            if (!realmContent) {\r\n                realmContent = document.createElement('div');\r\n                realmContent.id = `realm-content-${realm.name}`;\r\n                realmContent.className = `realm-content`;\r\n                realmContent.style.display = (index === 0 ? 'flex' : 'none'); // Only display the first realm by default\r\n\r\n                col1 = document.createElement('div');\r\n                col1.id = `power-col1-${realm.name}`;\r\n                col1.className = 'testing-content-tab-col';\r\n\r\n                col2 = document.createElement('div');\r\n                col2.id = `power-col2-${realm.name}`;\r\n                col2.className = 'testing-content-tab-col';\r\n\r\n                realmContent.appendChild(col1);\r\n                realmContent.appendChild(col2);\r\n\r\n                targetParent.appendChild(realmContent);\r\n            } else {\r\n                col1 = document.getElementById(`power-col1-${realm.name}`);\r\n                col2 = document.getElementById(`power-col2-${realm.name}`);\r\n            }\r\n\r\n            this.populatePowerRealm(col1, col2, realm);\r\n        });\r\n    }\r\n\r\n    populatePowerRealm(targetCol1, targetCol2, realm) {\r\n        realm.trainings.forEach(training => {\r\n            const trainingId = `training-${training.id}`;\r\n            let trainingCell = targetCol1.querySelector(`#${trainingId}`);\r\n            if (!trainingCell) {\r\n                trainingCell = document.createElement('div');\r\n                trainingCell.id = trainingId;\r\n                trainingCell.classList.add('training-cell');\r\n\r\n                const trainingName = document.createElement('div');\r\n                trainingName.className = 'training-name';\r\n                trainingName.textContent = training.name + \" lvl \" + training.level + \"\\n\" + training.description;\r\n                trainingCell.appendChild(trainingName);\r\n\r\n                const buttonContainer = document.createElement('div');\r\n                const button = document.createElement('button');\r\n                button.id = `button-${training.id}`;\r\n\r\n                button.addEventListener('click', () => {\r\n                    this.buyFeature(training.id);\r\n                });\r\n                buttonContainer.appendChild(button);\r\n                trainingCell.appendChild(buttonContainer);\r\n\r\n                targetCol1.appendChild(trainingCell);\r\n            }\r\n\r\n\r\n            // Update training level text\r\n            const trainingName = trainingCell.querySelector('.training-name');\r\n            trainingName.textContent = training.name + \" lvl \" + training.level;\r\n\r\n            // Create and update the current value and prodType element\r\n            let currentValueElement = trainingCell.querySelector('.training-current-value');\r\n            if (!currentValueElement) {\r\n                currentValueElement = document.createElement('div');\r\n                currentValueElement.className = 'training-current-value';\r\n                currentValueElement.setAttribute('style', 'font-size:10px;');\r\n                trainingCell.appendChild(currentValueElement);\r\n            }\r\n\r\n            currentValueElement.setAttribute('style', 'white-space:pre; font-size: 10px;');\r\n            currentValueElement.textContent = `${this.formatNumber(training.prodCurrent)} ${training.prodType}\\r\\n`;\r\n            currentValueElement.textContent += `prodMult ${this.formatNumber(training.prodMult)}\\r\\n`;\r\n            currentValueElement.textContent += `prodRate ${this.formatNumber(training.prodGrowthRate)}\\r\\n`;\r\n            currentValueElement.textContent += `costMult ${this.formatNumber(training.costMult)}\\r\\n`;\r\n            currentValueElement.textContent += `costRate ${this.formatNumber(training.costGrowthRate)}`;\r\n\r\n            // Update button text, style, and clickability based on training.active\r\n            const button = trainingCell.querySelector(`#button-${training.id}`);\r\n            button.setAttribute('style', 'white-space:pre;');\r\n\r\n            button.textContent = `x ${training.nextLevelIncrement}\\r\\n`;\r\n\r\n            button.textContent += `-${this.formatNumber(training.costNext)} ${training.costType}\\r\\n`;\r\n            button.textContent += `+${this.formatNumber(training.prodCurrent.plus(training.prodNext.minus(training.prodCurrent)))} ${training.prodType}`;\r\n\r\n            if (training.active && (training.level !== training.maxLevel) && this.isAffordable(training) && training.nextLevelIncrement.gt(0)) {\r\n                button.disabled = false;\r\n                button.style.opacity = 1;\r\n            }\r\n            else if (training.level === training.maxLevel) {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n                button.innerHTML = \"max\";\r\n            }\r\n            else {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n            }\r\n        });\r\n\r\n\r\n        realm.upgrades.forEach(upgrade => {\r\n            const upgradeId = `upgrade-${upgrade.id}`;\r\n            let upgradeCell = targetCol2.querySelector(`#${upgradeId}`);\r\n            if (!upgradeCell) {\r\n                upgradeCell = document.createElement('div');\r\n                upgradeCell.id = upgradeId;\r\n                upgradeCell.classList.add('upgrade-cell');\r\n\r\n                const upgradeName = document.createElement('div');\r\n                upgradeName.className = 'upgrade-name';\r\n                upgradeName.textContent = upgrade.name + \" lvl \" + upgrade.level + \"\\n\" + upgrade.description;\r\n                upgradeCell.appendChild(upgradeName);\r\n\r\n                const buttonContainer = document.createElement('div');\r\n                const button = document.createElement('button');\r\n                button.id = `button-${upgrade.id}`;\r\n                button.addEventListener('click', () => {\r\n                    this.buyFeature(upgrade.id);\r\n                });\r\n                buttonContainer.appendChild(button);\r\n                upgradeCell.appendChild(buttonContainer);\r\n\r\n                targetCol2.appendChild(upgradeCell);\r\n            }\r\n\r\n            // Update upgrade level text\r\n            const upgradeName = upgradeCell.querySelector('.upgrade-name');\r\n            upgradeName.textContent = upgrade.name + \" lvl \" + upgrade.level;\r\n\r\n\r\n            // Update upgrade description text\r\n            let upgradeDescription = upgradeCell.querySelector('.upgrade-description');\r\n            if (!upgradeDescription) {\r\n                upgradeDescription = document.createElement('div');\r\n                upgradeDescription.className = 'upgrade-description';\r\n                upgradeDescription.setAttribute('style', 'font-size:10px; max-width: 150px;');\r\n                upgradeCell.appendChild(upgradeDescription);\r\n            }\r\n            upgradeDescription.textContent = \"\\n\" + upgrade.description;\r\n\r\n            // Update button text, style, and clickability based on upgrade.active\r\n            const button = upgradeCell.querySelector(`#button-${upgrade.id}`);\r\n            button.setAttribute('style', 'white-space:pre;');\r\n\r\n            if (upgrade.maxLevel.eq(upgrade.level.plus(upgrade.nextLevelIncrement))) {\r\n                button.textContent = `x${upgrade.nextLevelIncrement}(max)\\r\\n`;\r\n            }\r\n            else {\r\n                button.textContent = `x${upgrade.nextLevelIncrement}\\r\\n`;\r\n            }\r\n            let nextUpgradeCost = upgrade.costNext;\r\n            button.textContent += `-${this.formatNumber(nextUpgradeCost)} ${upgrade.costType}\\r\\n`;\r\n\r\n            if (upgrade.active && upgrade.level.neq(upgrade.maxLevel) && this.isAffordable(upgrade) && upgrade.nextLevelIncrement.gt(0)) {\r\n                button.disabled = false;\r\n                button.style.opacity = 1;\r\n            }\r\n            else if (upgrade.level.eq(upgrade.maxLevel)) {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n                button.innerHTML = \"max\";\r\n            }\r\n            else {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n            }\r\n        });\r\n    }\r\n\r\n    populateSpiritRealm(targetCol1, targetCol2, realm) {\r\n        realm.generatorChains[0].generators.forEach(generator => {\r\n            const generatorId = `generator-${generator.id}`;\r\n            let generatorCell = targetCol1.querySelector(`#${generatorId}`);\r\n\r\n            if (!generatorCell) {\r\n                generatorCell = document.createElement('div');\r\n                generatorCell.id = generatorId;\r\n                generatorCell.classList.add('generator-cell');\r\n\r\n                const generatorName = document.createElement('div');\r\n                generatorName.className = 'generator-name';\r\n                generatorName.textContent = generator.name + \" # \" + this.formatNumber(generator.level) + \"\\n\" + generator.description;\r\n                generatorCell.appendChild(generatorName);\r\n\r\n                const buttonContainer = document.createElement('div');\r\n                const button = document.createElement('button');\r\n                button.id = `button-${generator.id}`;\r\n                button.addEventListener('click', () => {\r\n                    this.buyFeature(generator.id);\r\n                });\r\n                buttonContainer.appendChild(button);\r\n                generatorCell.appendChild(buttonContainer);\r\n\r\n                targetCol1.appendChild(generatorCell);\r\n            }\r\n\r\n            // Update generator level text\r\n            const generatorName = generatorCell.querySelector('.generator-name');\r\n            generatorName.textContent = generator.name + \" lvl \" + this.formatNumber(generator.level);\r\n\r\n            // Create and update the current value and prodType element\r\n            let currentValueElement = generatorCell.querySelector('.generator-current-value');\r\n            if (!currentValueElement) {\r\n                currentValueElement = document.createElement('div');\r\n                currentValueElement.className = 'generator-current-value';\r\n                currentValueElement.setAttribute('style', 'font-size:10px;');\r\n                generatorCell.appendChild(currentValueElement);\r\n            }\r\n\r\n            currentValueElement.setAttribute('style', 'white-space:pre; font-size: 10px;');\r\n            currentValueElement.textContent = `${this.formatNumber(generator.prodCurrent)} ${generator.prodType}\\r\\n`;\r\n            currentValueElement.textContent += `prodMult ${this.formatNumber(generator.prodMult)}\\r\\n`;\r\n            currentValueElement.textContent += `prodRate ${this.formatNumber(generator.prodGrowthRate)}\\r\\n`;\r\n            currentValueElement.textContent += `purchased: ${this.formatNumber(generator.manualLevel)}\\r\\n`;\r\n            currentValueElement.textContent += `generated: ${this.formatNumber(generator.autoLevel)}`;\r\n\r\n            // Update button text, style, and clickability based on generator.active\r\n            const button = generatorCell.querySelector(`#button-${generator.id}`);\r\n            button.setAttribute('style', 'white-space:pre;');\r\n\r\n            button.textContent = `x ${generator.nextLevelIncrement}\\r\\n`;\r\n            button.textContent += `-${this.formatNumber(generator.costNext)} ${generator.costType}\\r\\n`;\r\n            button.textContent += `+${this.formatNumber(generator.prodCurrent.plus(generator.prodNext.minus(generator.prodCurrent)))} ${generator.prodType}`;\r\n\r\n            if (generator.active && (generator.level !== generator.maxLevel) && this.isAffordable(generator) && generator.nextLevelIncrement.gt(0)) {\r\n                button.disabled = false;\r\n                button.style.opacity = 1;\r\n            }\r\n            else if (generator.level === generator.maxLevel) {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n                button.innerHTML = \"max\";\r\n            }\r\n            else {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n            }\r\n        });\r\n\r\n\r\n\r\n        realm.upgrades.forEach(upgrade => {\r\n            const upgradeId = `upgrade-${upgrade.id}`;\r\n            let upgradeCell = targetCol2.querySelector(`#${upgradeId}`);\r\n            if (!upgradeCell) {\r\n                upgradeCell = document.createElement('div');\r\n                upgradeCell.id = upgradeId;\r\n                upgradeCell.classList.add('upgrade-cell');\r\n\r\n                const upgradeName = document.createElement('div');\r\n                upgradeName.className = 'upgrade-name';\r\n                upgradeName.textContent = upgrade.name + \" lvl \" + upgrade.level + \"\\n\" + upgrade.description;\r\n                upgradeCell.appendChild(upgradeName);\r\n\r\n                const buttonContainer = document.createElement('div');\r\n                const button = document.createElement('button');\r\n                button.id = `button-${upgrade.id}`;\r\n                button.addEventListener('click', () => {\r\n                    this.buyFeature(upgrade.id);\r\n                });\r\n                buttonContainer.appendChild(button);\r\n                upgradeCell.appendChild(buttonContainer);\r\n\r\n                targetCol2.appendChild(upgradeCell);\r\n            }\r\n\r\n            // Update upgrade level text\r\n            const upgradeName = upgradeCell.querySelector('.upgrade-name');\r\n            upgradeName.textContent = upgrade.name + \" lvl \" + upgrade.level;\r\n\r\n\r\n            // Update upgrade description text\r\n            let upgradeDescription = upgradeCell.querySelector('.upgrade-description');\r\n            if (!upgradeDescription) {\r\n                upgradeDescription = document.createElement('div');\r\n                upgradeDescription.className = 'upgrade-description';\r\n                upgradeDescription.setAttribute('style', 'font-size:10px; max-width: 150px;');\r\n                upgradeCell.appendChild(upgradeDescription);\r\n            }\r\n            upgradeDescription.textContent = \"\\n\" + upgrade.description;\r\n\r\n            // Update button text, style, and clickability based on upgrade.active\r\n            const button = upgradeCell.querySelector(`#button-${upgrade.id}`);\r\n            button.setAttribute('style', 'white-space:pre;');\r\n\r\n            if (upgrade.maxLevel.eq(upgrade.level.plus(upgrade.nextLevelIncrement))) {\r\n                button.textContent = `x${upgrade.nextLevelIncrement}(max)\\r\\n`;\r\n            }\r\n            else {\r\n                button.textContent = `x${upgrade.nextLevelIncrement}\\r\\n`;\r\n            }\r\n            let nextUpgradeCost = upgrade.costNext;\r\n            button.textContent += `-${this.formatNumber(nextUpgradeCost)} ${upgrade.costType}\\r\\n`;\r\n\r\n            if (upgrade.active && upgrade.level.neq(upgrade.maxLevel) && this.isAffordable(upgrade) && upgrade.nextLevelIncrement.gt(0)) {\r\n                button.disabled = false;\r\n                button.style.opacity = 1;\r\n            }\r\n            else if (upgrade.level.eq(upgrade.maxLevel)) {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n                button.innerHTML = \"max\";\r\n            }\r\n            else {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n            }\r\n        });\r\n    }\r\n\r\n    changeRealm(realmId, realmType) {\r\n        // Get the parent container\r\n        const realmButtonsContainer = document.getElementById(`${realmType}-realm-buttons`);\r\n\r\n        // Get the children of the parent container\r\n        let realmButtons = realmButtonsContainer.children;\r\n\r\n        realmButtons = document.getElementById(`${realmType}-realm-buttons`).children;\r\n\r\n        // Remove 'active-tab' class from all realm buttons\r\n        for (let i = 0; i < realmButtons.length; i++) {\r\n            realmButtons[i].classList.remove('active-tab');\r\n        }\r\n\r\n        // Add 'active-tab' class to the clicked button\r\n        document.getElementById(realmId).classList.add('active-tab');\r\n\r\n        // Hide all realm contents\r\n        let realmContents = document.getElementById(`${realmType}`).children;\r\n        for (let i = 0; i < realmContents.length; i++) {\r\n            if (realmContents[i].id.includes('realm-content')) {\r\n                realmContents[i].style.display = 'none';\r\n            }\r\n        }\r\n\r\n        // Show the content of the clicked realm\r\n        document.getElementById(`realm-content-${realmId.split('-')[1]}`).style.display = 'flex';\r\n    }\r\n\r\n    populateSpiritTab() {\r\n        let targetParent = document.getElementById('spirit');\r\n        let realmButtonsContainer = document.getElementById('spirit-realm-buttons');\r\n\r\n        this.gameManager.gameContent.spiritRealms.forEach((realm, index) => {\r\n            const realmId = `realm-${realm.name}`;\r\n            let realmButton = document.getElementById(realmId);\r\n            let realmContent = document.getElementById(`realm-content-${realm.name}`);\r\n            let col1, col2;\r\n\r\n            if (!realmButton) {\r\n                realmButton = document.createElement('button');\r\n                realmButton.id = realmId;\r\n                realmButton.textContent = realm.name;\r\n                realmButton.className = \"realm-button\";\r\n                realmButton.addEventListener('click', () => this.changeRealm(realmId,\"spirit\"));\r\n\r\n                // If it's the first realm, add 'active-tab' class\r\n                if (index === 0) {\r\n                    realmButton.classList.add('active-tab');\r\n                }\r\n\r\n                realmButtonsContainer.appendChild(realmButton);\r\n            }\r\n\r\n            if (!realmContent) {\r\n                realmContent = document.createElement('div');\r\n                realmContent.id = `realm-content-${realm.name}`;\r\n                realmContent.className = `realm-content`;\r\n                realmContent.style.display = (index === 0 ? 'flex' : 'none'); // Only display the first realm by default\r\n\r\n                col1 = document.createElement('div');\r\n                col1.id = `spirit-col1-${realm.name}`;\r\n                col1.className = 'testing-content-tab-col';\r\n\r\n                col2 = document.createElement('div');\r\n                col2.id = `spirit-col2-${realm.name}`;\r\n                col2.className = 'testing-content-tab-col';\r\n\r\n                realmContent.appendChild(col1);\r\n                realmContent.appendChild(col2);\r\n\r\n                targetParent.appendChild(realmContent);\r\n            } else {\r\n                col1 = document.getElementById(`spirit-col1-${realm.name}`);\r\n                col2 = document.getElementById(`spirit-col2-${realm.name}`);\r\n            }\r\n\r\n            this.populateSpiritRealm(col1, col2, realm);\r\n        });\r\n    }\r\n\r\n    populateAchievementsTab() {\r\n        const achievements = this.gameManager.gameContent.achievementsGrid.achievements;\r\n        achievements.forEach(achievement => {\r\n            const achievementID = `achievement-${achievement.id}`;\r\n            let achievementCell = this.achievementsCol1.querySelector(`#${achievementID}`);\r\n            if (!achievementCell) {\r\n                achievementCell = document.createElement('div');\r\n                achievementCell.id = achievementID;\r\n                achievementCell.classList.add('achievement-cell');\r\n\r\n                const achievementTitle = document.createElement('div');\r\n                achievementTitle.className = 'achievement-title';\r\n                achievementTitle.textContent = `${achievement.name}`;\r\n                achievementCell.appendChild(achievementTitle);\r\n\r\n                const button = document.createElement('button');\r\n                button.id = `claim-button-${achievement.id}`;\r\n                button.textContent = \"Claim\";\r\n                button.addEventListener('click', () => {\r\n                    this.claimAchievement(achievement);\r\n                });\r\n                achievementCell.appendChild(button);\r\n\r\n                const achievementDescription = document.createElement('div');\r\n                achievementDescription.className = 'achievement-description';\r\n                achievementDescription.textContent = `${achievement.description}`;\r\n                achievementCell.appendChild(achievementDescription);\r\n\r\n                this.achievementsCol1.appendChild(achievementCell);\r\n            }\r\n\r\n            // Update button appearance based on achievement.isClaimable\r\n            const button = document.querySelector(`#claim-button-${achievement.id}`);\r\n            if (achievement.isClaimed) {\r\n                button.disabled = true;\r\n                button.setAttribute('style', 'white-space:pre; background-color:green;color:white');\r\n                button.textContent = \"Claimed\";\r\n            }\r\n            else if (achievement.isClaimable) {\r\n                button.disabled = false;\r\n                button.style.opacity = 1;\r\n            }\r\n            else {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.7;\r\n            }\r\n        });\r\n    }\r\n\r\n    populateSkillsTab() {\r\n        const skills = this.gameManager.gameContent.skillTree.skills;\r\n\r\n        // Create a container for the skill grid if it doesn't exist\r\n        let skillGrid = this.skillsCol1.querySelector('.skill-grid');\r\n        if (!skillGrid) {\r\n            skillGrid = document.createElement('div');\r\n            skillGrid.classList.add('skill-grid');\r\n            this.skillsCol1.appendChild(skillGrid);\r\n        }\r\n\r\n        skills.forEach(skill => {\r\n            const skillId = `skill-${skill.id}`;\r\n\r\n            // Create a skill node element and position it based on its connections\r\n            let skillNode = skillGrid.querySelector(`#${skillId}`);\r\n            if (!skillNode) {\r\n                skillNode = document.createElement('button');\r\n                skillNode.id = skillId;\r\n                skillNode.classList.add('skill-node');\r\n\r\n                // Create the level text element\r\n                const levelText = document.createElement('span');\r\n                levelText.classList.add('skill-level');\r\n                skillNode.appendChild(levelText);\r\n\r\n                // Create a line element to connect the skill nodes\r\n                const connections = skill.node.connections;\r\n                for (const direction in connections) {\r\n                    if (connections[direction]) { // Check if there is a connection in this direction\r\n                        const line = document.createElement('div');\r\n                        line.classList.add('skill-line', direction);\r\n                        skillNode.appendChild(line);\r\n                    }\r\n                }\r\n\r\n                // Add click event to upgrade the skill\r\n                skillNode.addEventListener('click', () => {\r\n                        this.buyFeature(skill.id);\r\n                });\r\n\r\n                // Add the tooltip div\r\n                //const tooltip = document.createElement('div');\r\n                //tooltip.classList.add('tooltip');\r\n                //tooltip.textContent = `${skill.name}\\nLevel: ${skill.level}/${skill.maxLevel}\\nCost: ${skill.costNext}\\n${skill.description}`;\r\n                //skillNode.appendChild(tooltip);\r\n\r\n\r\n                // Add the skill node to the skill grid\r\n                skillGrid.appendChild(skillNode);\r\n            }\r\n\r\n            // Update skill node properties\r\n            if (skill.level.eq(skill.maxLevel)) {\r\n                skillNode.disabled = true;\r\n                skillNode.setAttribute('style', 'color: white; background-color:green; font-weight:bold;');\r\n            }\r\n            else if (!skill.active || !skill.level.lt(skill.maxLevel) || !this.isAffordable(skill) ||skill.costNext.eq(0)) {\r\n                skillNode.disabled = true;\r\n                skillNode.setAttribute('style', 'color: white; background-color:grey; font-weight:bold;');\r\n            } else {\r\n                skillNode.disabled = false;\r\n                skillNode.setAttribute('style', 'opacity:1;');\r\n                skillNode.setAttribute('style', 'color: white; font-weight:bold;background-color:darkblue;');\r\n            }\r\n            skillNode.style.left = `${skill.node.x}px`;\r\n            skillNode.style.top = `${skill.node.y}px`;\r\n\r\n            // Update skill node title and level text\r\n            //const tooltip = skillNode.querySelector('.tooltip');\r\n            //tooltip.textContent = `${skill.name}\\nLevel: ${skill.level}/${skill.maxLevel}\\nCost: ${skill.costNext}\\n${skill.description}`;\r\n            const levelText = skillNode.querySelector('.skill-level');\r\n            levelText.textContent = `${skill.level}/${skill.maxLevel}`;\r\n            levelText.textContent = `${skill.name}\\nCost: ${skill.costNext}\\n${skill.description}`;\r\n        });\r\n    }\r\n\r\n    populateEssenceTab() {\r\n        const essenceUpgrades = this.gameManager.gameContent.essenceUpgrades;\r\n        let targetCol = this.essenceCol1;\r\n        essenceUpgrades.forEach(upgrade => {\r\n            const upgradeId = `upgrade-${upgrade.id}`;\r\n            let upgradeCell = targetCol.querySelector(`#${upgradeId}`);\r\n            if (!upgradeCell) {\r\n                upgradeCell = document.createElement('div');\r\n                upgradeCell.id = upgradeId;\r\n                upgradeCell.classList.add('upgrade-cell');\r\n\r\n                const upgradeName = document.createElement('div');\r\n                upgradeName.className = 'upgrade-name';\r\n                upgradeName.textContent = upgrade.name + \" lvl \" + upgrade.level + \"\\n\" + upgrade.description;\r\n                upgradeCell.appendChild(upgradeName);\r\n\r\n                const buttonContainer = document.createElement('div');\r\n                const button = document.createElement('button');\r\n                button.id = `button-${upgrade.id}`;\r\n                button.addEventListener('click', () => {\r\n                    this.buyFeature(upgrade.id);\r\n                });\r\n                buttonContainer.appendChild(button);\r\n                upgradeCell.appendChild(buttonContainer);\r\n\r\n                targetCol.appendChild(upgradeCell);\r\n            }\r\n\r\n            // Update upgrade level text\r\n            const upgradeName = upgradeCell.querySelector('.upgrade-name');\r\n            upgradeName.textContent = upgrade.name + \" lvl \" + upgrade.level;\r\n\r\n\r\n            // Update upgrade description text\r\n            let upgradeDescription = upgradeCell.querySelector('.upgrade-description');\r\n            if (!upgradeDescription) {\r\n                upgradeDescription = document.createElement('div');\r\n                upgradeDescription.className = 'upgrade-description';\r\n                upgradeDescription.setAttribute('style', 'font-size:10px; max-width: 150px;');\r\n                upgradeCell.appendChild(upgradeDescription);\r\n            }\r\n            upgradeDescription.textContent = \"\\n\" + upgrade.description;\r\n\r\n            // Update button text, style, and clickability based on upgrade.active\r\n            const button = upgradeCell.querySelector(`#button-${upgrade.id}`);\r\n            button.setAttribute('style', 'white-space:pre;');\r\n            \r\n            button.textContent = `x${upgrade.nextLevelIncrement}\\r\\n`;\r\n           \r\n            button.textContent += `-${this.formatNumber(upgrade.costNext)} ${upgrade.costType}\\r\\n`;\r\n\r\n\r\n            if (upgrade.active && upgrade.level.neq(upgrade.maxLevel) && this.isAffordable(upgrade) && upgrade.nextLevelIncrement.gt(0)) {\r\n                button.disabled = false;\r\n                button.style.opacity = 1;\r\n            }\r\n            else if (upgrade.level.eq(upgrade.maxLevel)) {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n                button.innerHTML = \"max\";\r\n            }\r\n            else {\r\n                button.disabled = true;\r\n                button.style.opacity = 0.6;\r\n            }\r\n        });\r\n    }\r\n\r\n    formatNumber(num) {\r\n        switch (this.numberNotation) {\r\n            case \"toStringWithDecimalPlaces\":\r\n                return num.toStringWithDecimalPlaces(3);\r\n            case \"toExponential\":\r\n                return num.toExponential(3);\r\n            case \"toJSON\":\r\n                return num.toJSON();\r\n            case \"toPrecision\":\r\n                return num.toPrecision(3);\r\n            case \"toNumber\":\r\n                return num.toNumber(2);\r\n            case \"toString\":\r\n                return num.toString(2);\r\n            case \"toFixed\":\r\n                return num.toFixed(2);\r\n            case \"magnitudeWithDecimalPlaces\":\r\n                return num.magnitudeWithDecimalPlaces(2);\r\n            case \"mantissaWithDecimalPlaces\":\r\n                return num.mantissaWithDecimalPlaces(2);\r\n            default:\r\n                return num.toPrecision(3);\r\n        }\r\n    }\r\n\r\n    claimAchievement(achievement) {\r\n        achievement.claim(this.gameManager);\r\n    }\r\n\r\n    //dispatch to gameManager\r\n    buyFeature(id) {\r\n        this.eventManager.dispatchEvent('handlePurchase', { id });\r\n        this.eventManager.dispatchEvent('check-unlocks');\r\n    }\r\n}\r\n"]}