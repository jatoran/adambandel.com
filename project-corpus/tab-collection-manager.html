---
title: TCM — Tab Collection Manager
summary: Replace your New Tab with a fast, drag‑and‑drop session manager for saving, organizing, and restoring tabs.
tags: [Browser Extension, Productivity, Chrome, MV3, IndexedDB, Drag‑and‑Drop]
status: Active
date: 2025-04-12
cover_image: /project-corpus/placeholder.svg
alt: Placeholder cover image representing the Tab Collection Manager new tab interface
permalink: /project-corpus/projects/tab-collection-manager/
---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title }} — Project</title>
    <meta name="description" content="{{ page.summary }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/project-corpus/assets-styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a href="/project-corpus/" style="text-decoration:none;color:var(--muted)">← Back to all projects</a>
        <h1 class="project-title">{{ page.title }}</h1>
        <p class="project-subtitle">{{ page.summary }}</p>
      </div>
    </header>
    <main class="container project-main">
      <section class="project-content">
        <div class="hero">
          <img src="{{ page.cover_image }}" alt="{{ page.alt }}" />
        </div>

        <h2>Problem</h2>
        <p>
          Modern browsers make it easy to open dozens of tabs across multiple windows, but they make it hard to
          capture that context, organize it meaningfully, and restore it later. Native “tab groups” and rudimentary
          history fall short when you want named collections, custom ordering, drag‑and‑drop between groups,
          and fast search—all without losing your place.
        </p>

        <h2>Approach</h2>
        <p>
          TCM is a Chrome MV3 extension that replaces the default New Tab Page with a focused session manager.
          It introduces a simple hierarchy—<em>Libraries</em> contain <em>Collections</em>, which contain <em>Tabs</em>—so you can
          save an entire window, curate research, and restore exactly what you need. A lightweight service worker
          brokers all data mutations and UI state changes, ensuring consistency across the New Tab view and the
          quick‑action popup.
        </p>

        <h3>Architecture</h3>
        <ul>
          <li>MV3 Service Worker — Central broker for data changes and state sync via message passing.</li>
          <li>New Tab UI — Main interface with libraries, collections, right‑hand “Active Windows” view, search, and DnD.</li>
          <li>Action Popup — One‑click flows to save the current tab/window or add to an existing collection.</li>
          <li>IndexedDB + chrome.storage — Persistent data in IndexedDB; cross‑device UI state in <code>chrome.storage.sync</code>.</li>
          <li>Message Bus — <code>chrome.runtime.sendMessage</code> and <code>chrome.tabs.sendMessage</code> coordinate updates; SW tracks active New Tab IDs for broadcast.</li>
        </ul>

        <h3>Stack</h3>
        <ul>
          <li>Manifest V3 — Background service worker with ES modules.</li>
          <li>IndexedDB — Scalable, structured storage for libraries, collections, and tabs (with explicit order arrays).</li>
          <li>chrome.storage (local + sync) — Settings (local) and shared UI state like collapses/expansion (sync).</li>
          <li>SortableJS — Smooth drag‑and‑drop for libraries, collections, and tab cards.</li>
          <li>Vanilla JS + DOM utilities — No heavy framework; small composable modules for UI and interactions.</li>
        </ul>

        <h3>Key Features</h3>
        <ul>
          <li>Libraries & Collections — Nameable categories with explicit <code>collectionOrder</code> and per‑collection <code>tabOrder</code>.</li>
          <li>Save flows — Save an entire window as a new collection, save current tab, or add current/all tabs to an existing collection.</li>
          <li>Right Sidebar — Live view of open windows/tabs; drag an active tab into a collection to save and close it.</li>
          <li>DnD Reordering — Drag libraries, collections, and tabs; cross‑collection tab moves update both orders atomically.</li>
          <li>Search & Keyboard — Instant search; Alt+1/Alt+2 to jump panes; Alt+K to focus search; robust arrow‑key navigation.</li>
          <li>Collapse/Expand — Per‑collection collapse, “collapse/expand all,” and left/right sidebar toggles (all persisted).</li>
          <li>Import/Export — JSON export of all data and bulk import that preserves structure and order.</li>
          <li>Preferences — “Close original tabs after saving” is configurable and synced with the popup.</li>
        </ul>

        <h3>Challenges</h3>
        <ul>
          <li>
            Consistent Ordering — Maintaining user‑defined orders required dedicated <code>*Order</code> arrays and guarded updates during moves.
            The service worker normalizes reorder/move operations and timestamps parent collections for recency.
          </li>
          <li>
            Multi‑view Sync — New Tab and Popup coordinate through the SW. The SW tracks active New Tab IDs and
            broadcasts targeted “dataUpdated” messages so the UI can either patch in place (e.g., collapse toggles)
            or trigger a full refresh when data changes.
          </li>
          <li>
            Scale & Responsiveness — IndexedDB provides fast reads/writes and supports larger datasets; the New Tab
            view caches settings/libraries and only reloads when a verified change occurs.
          </li>
        </ul>

        <h2>Outcomes</h2>
        <p>
          TCM streamlines research and multi‑project workflows by letting you capture windows in seconds, keep
          collections tidy with drag‑and‑drop, and restore exactly what you need. The design favors reliability and
          clarity: data is persisted in IndexedDB, UI state is kept in sync across views, and updates are broadcast
          to all active New Tab pages. Version <strong>2.2.2</strong> adds robust import/export and a user‑controlled
          “close after save” preference.
        </p>

        <section class="updates">
          <h2>Updates</h2>
          {% assign updates_base = page.url | append: 'updates/' %}
          {% assign updates = site.pages | where_exp: 'u', "u.url contains updates_base" | sort: 'date' | reverse %}
          {% if updates.size > 0 %}
            {% for u in updates limit: 5 %}
              <article class="update">
                <h3><a href="{{ u.url }}">{{ u.title }}</a></h3>
                {% if u.date %}<time datetime="{{ u.date | date_to_xmlschema }}">{{ u.date | date: '%b %d, %Y' }}</time>{% endif %}
                {% if u.excerpt %}<p>{{ u.excerpt }}</p>{% endif %}
              </article>
            {% endfor %}
          {% else %}
            <p>No updates yet.</p>
          {% endif %}
        </section>
      </section>
      <aside class="project-aside">
        <dl class="facts">
          <dt>Status</dt>
          <dd><span class="badge status {{ page.status | downcase }}">{{ page.status }}</span></dd>
          <dt>Tags</dt>
          <dd>{{ page.tags | join: ', ' }}</dd>
          <dt>Started</dt>
          <dd>{{ page.date | date: '%b %Y' }}</dd>
          <dt>Links</dt>
          <dd>
            <ul>
              <li><a href="#">Chrome Web Store — TBD</a></li>
              <li><a href="#">GitHub — TBD</a></li>
            </ul>
          </dd>
        </dl>
      </aside>
    </main>
    <footer class="site-footer">
      <div class="container">
        <small>© {{ "now" | date: "%Y" }} Adam Bandel</small>
      </div>
    </footer>
  </body>
  </html>

