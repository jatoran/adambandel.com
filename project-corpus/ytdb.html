---
title: YTDB — Human‑Curated YouTube Database
summary: Discover, rate, and curate high‑quality YouTube videos with trust‑weighted ratings, advanced search, and collaborative lists.
tags: [Node.js, Express, MongoDB, React, YouTube API, Search, Ratings, Lists, Analytics]
status: Active
date: 2024-08-19
cover_image: /project-corpus/placeholder.svg
alt: Abstract cover image representing the YTDB project
permalink: /project-corpus/projects/ytdb/
---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title }} — Project</title>
    <meta name="description" content="{{ page.summary }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/project-corpus/assets-styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a href="/project-corpus/" style="text-decoration:none;color:var(--muted)">← Back to all projects</a>
        <h1 class="project-title">{{ page.title }}</h1>
        <p class="project-subtitle">{{ page.summary }}</p>
      </div>
    </header>
    <main class="container project-main">
      <section class="project-content">
        <div class="hero">
          <img src="{{ page.cover_image }}" alt="{{ page.alt }}" />
        </div>

        <h2>Problem</h2>
        <p>
          YouTube’s algorithm favors recency and broad appeal, making it hard to discover
          deep, high‑quality videos across niche topics. Playlists are limited, ratings
          are non‑existent, and search lacks the controls needed to cut through noise.
          Viewers spend more time searching than watching; creators of substantive content
          struggle to surface beyond the algorithm.
        </p>

        <h2>Approach</h2>
        <p>
          YTDB builds a community‑curated layer on top of YouTube. It indexes selected
          videos with structured metadata, enables ratings and reviews, and applies a
          trust‑weighted scoring model so contributions from reputable users carry more
          signal. Users can run advanced searches, filter by category and tags, and
          maintain collaborative lists (Watch Later, Watched, custom). Admin tools,
          analytics, and scheduled jobs keep the catalog healthy and useful.
        </p>

        <h3>Architecture</h3>
        <ul>
          <li>Backend: Node.js/Express API with MongoDB via Mongoose; JWT auth with refresh tokens and optional auth for read endpoints.</li>
          <li>Security: Helmet CSP, XSS filtering, and Mongo sanitize; per‑route rate limiting and request logging (Winston with daily rotation).</li>
          <li>Data model: Videos, Users, Reviews, Lists, Categories, Tags with rich indexes for search and sorting (rating, recency, views, duration).</li>
          <li>Trust‑weighted ratings: Reviews are weighted by each user’s evolving trust score; recalculated on a schedule.</li>
          <li>Analytics jobs: Periodic jobs compute <code>trendingScore</code> and <code>popularityScore</code> for categories and tags; daily DB backups.</li>
          <li>Frontend: React SPA with lazy‑loaded routes, client caching, and carousels for Trending, Top Rated, New, and Popular.</li>
          <li>YouTube integration: URL validation and metadata retrieval via YouTube Data API v3; batch validation and duplicate checks.</li>
        </ul>

        <h3>Stack</h3>
        <ul>
          <li>Node.js + Express — REST API, routing, middleware</li>
          <li>MongoDB + Mongoose — persistence, schemas, compound indexes</li>
          <li>React 18 — SPA UI, lazy routes, context providers</li>
          <li>YouTube Data API v3 — metadata validation and search</li>
          <li>Winston + DailyRotateFile — structured logs and request metrics</li>
          <li>Helmet, xss-clean, express-mongo-sanitize — security hardening</li>
          <li>express-rate-limit — per‑endpoint throttling</li>
          <li>node-cron — scheduled jobs (ratings, analytics, backups)</li>
          <li>Jest + Supertest — backend testing</li>
        </ul>

        <h3>Key Features</h3>
        <ul>
          <li>Advanced search: query by text, categories/tags, rating, views, duration, dates; multi‑key sorting with watched‑exclusion.</li>
          <li>Lists and curation: user lists (private/public) plus default Watch Later / Watched; likes and saves for social signals.</li>
          <li>Reviews and ratings: 1–10 ratings with optional text; likes on reviews; per‑video review stats.</li>
          <li>Trust score model: contributions (reviews, likes, list actions, account age) influence user trust; review weights derive from trust.</li>
          <li>Carousels and discovery: Trending, Top Rated, New, and Popular sections on the homepage.</li>
          <li>Admin console: manage users, videos, reviews, categories, tags; trigger jobs; view API stats and logs.</li>
          <li>Resilience: hourly weighted‑rating updates, 2‑hour content analytics refresh, 1 AM daily backups.</li>
        </ul>

        <h3>Challenges</h3>
        <ul>
          <li>Fair scoring: naive averages amplify noise. Solution: trust‑weighted ratings with scheduled recalculation and rich user signals.</li>
          <li>Search performance: many filters across large collections. Solution: targeted Mongoose indexes, compound sorts, and client caching.</li>
          <li>API quotas & validation: YouTube limits. Solution: batch validation endpoints, duplicate checks, and graceful fallbacks.</li>
          <li>Security & abuse: public endpoints attract scraping/spam. Solution: strict rate limits, sanitization, CSP, and structured logging.</li>
        </ul>

        <h2>Outcomes</h2>
        <p>
          The prototype delivers a focused discovery experience where high‑quality videos are easier to find and curate. Trust‑weighted ratings
          provide robust rankings, advanced search reduces time‑to‑content, and carousels surface what’s trending and worthwhile. Admin tools and
          scheduled jobs keep data fresh and reliable for everyday use and incremental scaling.
        </p>

        <section class="updates">
          <h2>Updates</h2>
          {% assign updates_base = page.url | append: 'updates/' %}
          {% assign updates = site.pages | where_exp: 'u', "u.url contains updates_base" | sort: 'date' | reverse %}
          {% if updates.size > 0 %}
            {% for u in updates limit: 5 %}
              <article class="update">
                <h3><a href="{{ u.url }}">{{ u.title }}</a></h3>
                {% if u.date %}<time datetime="{{ u.date | date_to_xmlschema }}">{{ u.date | date: '%b %d, %Y' }}</time>{% endif %}
                {% if u.excerpt %}<p>{{ u.excerpt }}</p>{% endif %}
              </article>
            {% endfor %}
          {% else %}
            <p>No updates yet.</p>
          {% endif %}
        </section>
      </section>
      <aside class="project-aside">
        <dl class="facts">
          <dt>Status</dt>
          <dd><span class="badge status {{ page.status | downcase }}">{{ page.status }}</span></dd>
          <dt>Tags</dt>
          <dd>{{ page.tags | join: ', ' }}</dd>
          <dt>Started</dt>
          <dd>{{ page.date | date: '%b %Y' }}</dd>
          <dt>Links</dt>
          <dd>
            <ul>
              <li><a href="https://youtube-db-ae7cbaa9383f.herokuapp.com" target="_blank" rel="noopener">Live demo</a></li>
              <li><a href="https://github.com/jatoran/ytdb" target="_blank" rel="noopener">GitHub</a></li>
            </ul>
          </dd>
        </dl>
      </aside>
    </main>
    <footer class="site-footer">
      <div class="container">
        <small>© {{ "now" | date: "%Y" }} Adam Bandel</small>
      </div>
    </footer>
  </body>
  </html>

