---
title: Note Cascade
summary: Ambient, canvas‑based note stream where ideas drift, expand, and slow on review.
tags: [Web, Canvas, UX, Visualization, Productivity, JavaScript]
status: Active
date: 2025-01-22
cover_image: /project-corpus/placeholder.svg
alt: Animated glowing orbs descending in colored columns over a cosmic background
permalink: /project-corpus/projects/note-cascade/
---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title }} — Project</title>
    <meta name="description" content="{{ page.summary }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/project-corpus/assets-styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a href="/project-corpus/" style="text-decoration:none;color:var(--muted)">← Back to all projects</a>
        <h1 class="project-title">{{ page.title }}</h1>
        <p class="project-subtitle">{{ page.summary }}</p>
      </div>
    </header>
    <main class="container project-main">
      <section class="project-content">
        <div class="hero">
          <img src="{{ page.cover_image }}" alt="{{ page.alt }}" />
        </div>

        <h2>Problem</h2>
        <p>Many notes aren’t tasks — they’re sparks: thoughts to keep around and re‑encounter over time. Traditional note apps bury them in lists or folders, and inbox‑style tools create pressure to “clear” them. I wanted a low‑pressure, ambient way to revisit lightweight ideas that rewards occasional review rather than demanding constant grooming.</p>

        <h2>Approach</h2>
        <p>Note Cascade turns ideas into glowing orbs that gently descend within one or more vertical streams. Clicking an orb in the bottom third sends it back to the top and slows its descent by 10%, so regularly reviewed ideas linger longer. A minimal input bar and color‑coded stream selector keep capture friction low. Everything is local‑first (no accounts), with import/export to JSON for portability.</p>

        <h3>Architecture</h3>
        <ul>
          <li><code>main.js</code> — Animation loop with <code>requestAnimationFrame</code>; updates bubbles/ripples and draws background, streams, and notes; autosaves once per second.</li>
          <li><code>canvasManager.js</code> — Owns the canvas/context and resizes to the viewport.</li>
          <li><code>stars.js</code> — Swirling cosmic gradient plus 120 twinkling stars synced to time.</li>
          <li><code>streamManager.js</code> — Column math (centers/widths), speed‑correlated wave animation, and shared <code>WAVE_COLORS</code> for consistent UI/visuals.</li>
          <li><code>bubbleManager.js</code> — Bubble state, motion, expansion, re‑launch (bottom‑third), hit‑testing; delegates drawing to utilities.</li>
          <li><code>rippleManager.js</code> — Lightweight particle/ripple system for trailing and celebratory effects.</li>
          <li><code>storageManager.js</code> — Local persistence, JSON import/export, and full state reset.</li>
          <li><code>settingsManager.js</code> — Local‑stored settings with progressive default speeds [0.8, 1.0, 1.2], clamping, and defaults reset.</li>
          <li><strong>UI utilities</strong> — <code>uiManager.js</code> wires input/events; <code>ui-utils/streamDropdownUtils.js</code> builds the color picker from <code>WAVE_COLORS</code>; <code>ui-utils/settingsModalUtils.js</code> renders per‑stream speed inputs and handles imports/resets.</li>
          <li><strong>Bubble utilities</strong> — <code>creationUtils.js</code> builds bubbles with speed derived from the stream factor; <code>drawingUtils.js</code> renders orbs and expanded cards (with scroll bar and left/right shift affordances); <code>textUtils.js</code> wraps text and computes card sizes.</li>
        </ul>

        <h3>Stack</h3>
        <ul>
          <li>HTML5 Canvas — Real‑time rendering of background, columns, orbs, and particles.</li>
          <li>ES Modules (vanilla JS) — Clear module boundaries; no framework required.</li>
          <li>LocalStorage — Autosave once/sec; JSON import/export for backups and migration.</li>
          <li>Poppins/Inter — Clean, readable typography for both UI and canvas text.</li>
        </ul>

        <h3>Challenges</h3>
        <ul>
          <li>Readable long notes — Expanded cards provide a clipped, scrollable area with a minimal scrollbar and line‑height tuned for legibility.</li>
          <li>Multi‑stream interaction — Left/right 20% click zones shift expanded notes across columns; middle 60% collapses, avoiding accidental moves.</li>
          <li>Consistent visual language — The stream selector reuses <code>WAVE_COLORS</code> from rendering so UI colors match column waves 1:1.</li>
          <li>Balanced pacing — Per‑stream speed factors (defaults 0.8/1.0/1.2) create gentle variety; bottom‑third re‑launch slows by 10% to keep reviewed ideas circulating.</li>
          <li>Performance without jank — Canvas keeps the DOM minimal; particles fade/cull; star field re‑inits on resize; autosave throttled to ~1Hz.</li>
        </ul>

        <h2>Outcomes</h2>
        <p>The result is a calm, visually rich space for idea recall. Notes are easy to capture, pleasant to re‑encounter, and persist locally. The modular structure makes it straightforward to adjust stream counts, pacing, or visuals, and the JSON import/export supports sharing or migrating state. It’s a small but delightful pattern for ambient memory.</p>

        <section class="updates">
          <h2>Updates</h2>
          {% assign updates_base = page.url | append: 'updates/' %}
          {% assign updates = site.pages | where_exp: 'u', "u.url contains updates_base" | sort: 'date' | reverse %}
          {% if updates.size > 0 %}
            {% for u in updates limit: 5 %}
              <article class="update">
                <h3><a href="{{ u.url }}">{{ u.title }}</a></h3>
                {% if u.date %}<time datetime="{{ u.date | date_to_xmlschema }}">{{ u.date | date: '%b %d, %Y' }}</time>{% endif %}
                {% if u.excerpt %}<p>{{ u.excerpt }}</p>{% endif %}
              </article>
            {% endfor %}
          {% else %}
            <p>No updates yet.</p>
          {% endif %}
        </section>
      </section>
      <aside class="project-aside">
        <dl class="facts">
          <dt>Status</dt>
          <dd><span class="badge status {{ page.status | downcase }}">{{ page.status }}</span></dd>
          <dt>Tags</dt>
          <dd>{{ page.tags | join: ', ' }}</dd>
          <dt>Started</dt>
          <dd>{{ page.date | date: '%b %Y' }}</dd>
          <dt>Links</dt>
          <dd>
            <ul>
              <li><a href="#">Live demo (TBD)</a></li>
              <li><a href="#">GitHub (TBD)</a></li>
            </ul>
          </dd>
        </dl>
      </aside>
    </main>
    <footer class="site-footer">
      <div class="container">
        <small>© {{ "now" | date: "%Y" }} Adam Bandel</small>
      </div>
    </footer>
  </body>
  </html>

